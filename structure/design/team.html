<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="flex.css">
    <link rel="stylesheet" href="teams.css">
    <script src="js/columns.js"></script>
    <script src="js/Animation.js"></script>
    <script src="js/DragDrop.js" defer></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined|Material+Icons+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <title>Menu</title>
</head>
<body>
    <header>
        <div class="row">
            <h1>Kantodo</h1>
            <div class="tabs">
                <div class="tab active"><p>Projects</p></div>
                <div class="tab"><p>Calendar</p></div>
            </div>
        </div>
        <div class="actions">
            <button class="icon-big flat">
                <span class="material-icons-outlined">notifications</span>
            </button>
            <div class="avatar arrow"></div>
        </div>
    </header>
    <aside>
        <div class="row main-space-between">
            <h3 id="teams">Teams</h3>
            <button class="primary icon round floating" id="addTeam">
                <span class="material-icons-round">
                add
                </span>
            </button>
        </div>
        <div class="teams container">
            <div class="team">
                <div class="icon"></div>
                <div>
                    <div class="name">Managment</div>
                    <div class="members-count">5 members</div>
                </div>
            </div>
            <div class="team">
                <div class="icon"></div>
                <div>
                    <div class="name">Managment</div>
                    <div class="members-count">5 members</div>
                </div>
            </div>
        </div>
    </aside>
    <main>
        <h2>UX Design Team</h2>
        <div class="avatars">
            <div class="avatar"><p>IE</p></div>
            <div class="avatar"><p>JZ</p></div>
            <div class="avatar"><p>JZ</p></div>
            <div class="avatar"><p>JZ</p></div>
            <div class="avatar"><p>+5</p></div>
            <button class="text icon-text"><span class="material-icons-round">add</span>invite</button>
        </div>
        <div class="actions row">
            <button class="primary icon-text"><span class="material-icons-round">add</span>Create</button>
            <button class="icon-text"><span class="material-icons-round">filter_alt</span>Filter</button>
        </div>
        <div id="columns">
            <div class="column">
                <div class="row">
                    <div class="title">To Do</div>
                    <div class="actions">
                        <button class="icon-small round flat">
                            <span class="material-icons-round">add</span>
                        </button>
                        <button class="icon-small round flat">
                            <span class="material-icons-round">more_horiz</span>
                        </button>
                    </div>
                </div>
                <div class="tasks" data-drop-area="task">
                </div>
            </div>
            <div class="column">
                <div class="row">
                    <div class="title">To Do</div>
                    <div class="actions">
                        <button class="icon-small round flat">
                            <span class="material-icons-round">add</span>
                        </button>
                        <button class="icon-small round flat">
                            <span class="material-icons-round">more_horiz</span>
                        </button>
                    </div>
                </div>
                <div class="tasks" data-drop-area="task">
                </div>
            </div>
            <div class="column">
                <div class="row">
                    <div class="title">To Do</div>
                    <div class="actions">
                        <button class="icon-small round flat">
                            <span class="material-icons-round">add</span>
                        </button>
                        <button class="icon-small round flat">
                            <span class="material-icons-round">more_horiz</span>
                        </button>
                    </div>
                </div>
                <div class="tasks" data-drop-area="task">
                </div>
            </div>
            <button id="addColumn">
                <span>Add column</span>
            </button>
        </div>
    </main>
    <script>

/*
TESTING
*/

        const columns = Column.getAllColumns();


        fetch("../data/tasks.json").then(json => json.json()).then(obj => {
            for (let index = 0; index < obj.length; index++) {
                const task = obj[index];

                columns[0].insert(task);
            }


        });



        const addColumnBtn = document.getElementById("addColumn");

        let x = 0;
        addColumnBtn.onclick = () => {
            x++;
            Column.create("COLUMN " + x, columns, 1);
        }
    </script>
</body>
</html>